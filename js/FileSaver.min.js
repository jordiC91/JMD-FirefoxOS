/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(l){if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var m=l.document,i=function(){return l.URL||l.webkitURL||l},p=m.createElementNS("http://www.w3.org/1999/xhtml","a"),d="download" in p,q=function(s){var r=m.createEvent("MouseEvents");r.initMouseEvent("click",true,false,l,0,0,0,0,0,false,false,false,false,0,null);s.dispatchEvent(r)},g=l.webkitRequestFileSystem,n=l.requestFileSystem||g||l.mozRequestFileSystem,e=function(r){(l.setImmediate||l.setTimeout)(function(){throw r},0)},k="application/octet-stream",h=0,c=500,o=function(s){var r=function(){if(typeof s==="string"){i().revokeObjectURL(s)}else{s.remove()}};if(l.chrome){r()}else{setTimeout(r,c)}},j=function(s,r,v){r=[].concat(r);var u=r.length;while(u--){var w=s["on"+r[u]];if(typeof w==="function"){try{w.call(s,v||s)}catch(t){e(t)}}}},b=function(r,s){var t=this,z=r.type,C=false,v,u,y=function(){j(t,"writestart progress write writeend".split(" "))},B=function(){if(C||!v){v=i().createObjectURL(r)}if(u){u.location.href=v}else{var D=l.open(v,"_blank");if(D==undefined&&typeof safari!=="undefined"){l.location.href=v}}t.readyState=t.DONE;y();o(v)},x=function(D){return function(){if(t.readyState!==t.DONE){return D.apply(this,arguments)}}},w={create:true,exclusive:false},A;t.readyState=t.INIT;if(!s){s="download"}if(d){v=i().createObjectURL(r);p.href=v;p.download=s;q(p);t.readyState=t.DONE;y();o(v);return}if(l.chrome&&z&&z!==k){A=r.slice||r.webkitSlice;r=A.call(r,0,r.size,k);C=true}if(g&&s!=="download"){s+=".download"}if(z===k||g){u=l}if(!n){B();return}h+=r.size;n(l.TEMPORARY,h,x(function(D){D.root.getDirectory("saved",w,x(function(E){var F=function(){E.getFile(s,w,x(function(G){G.createWriter(x(function(H){H.onwriteend=function(I){u.location.href=G.toURL();t.readyState=t.DONE;j(t,"writeend",I);o(G)};H.onerror=function(){var I=H.error;if(I.code!==I.ABORT_ERR){B()}};"writestart progress write abort".split(" ").forEach(function(I){H["on"+I]=t["on"+I]});H.write(r);t.abort=function(){H.abort();t.readyState=t.DONE};t.readyState=t.WRITING}),B)}),B)};E.getFile(s,{create:false},x(function(G){G.remove();F()}),x(function(G){if(G.code===G.NOT_FOUND_ERR){F()}else{B()}}))}),B)}),B)},a=b.prototype,f=function(r,s){return new b(r,s)};a.abort=function(){var r=this;r.readyState=r.DONE;j(r,"abort")};a.readyState=a.INIT=0;a.WRITING=1;a.DONE=2;a.error=a.onwritestart=a.onprogress=a.onwrite=a.onabort=a.onerror=a.onwriteend=null;return f}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else{if(typeof define!=="undefined"&&define!==null&&define.amd!=null){define([],function(){return saveAs})}};